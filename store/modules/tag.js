////////////////////////////////////////////////////////////////////////////////////////////////////
// state
////////////////////////////////////////////////////////////////////////////////////////////////////
const defaultState = () => {
  return {
    tags: [],
    checkedTag: ''
  }
}

export const state = () => defaultState()

////////////////////////////////////////////////////////////////////////////////////////////////////
// getters
////////////////////////////////////////////////////////////////////////////////////////////////////
export const getters = {
  tags (state) {
    return state.tags
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// mutations
////////////////////////////////////////////////////////////////////////////////////////////////////
export const mutations = {
  // ==================================================
  // ステート初期化
  // ==================================================
  setDefaultState (state) {
    Object.assign(state, defaultState())
  },
  // ==================================================
  // データロード
  // ==================================================
  setTags (state, payload) {
    state.tags = payload
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// actions
////////////////////////////////////////////////////////////////////////////////////////////////////
export const actions = {
  // ==================================================
  // ステート初期化
  // ==================================================
  getDefaultState ({ commit }) {
    commit('setDefaultState')
  },
  // ==================================================
  // データクリア
  // ==================================================
  async getTags ({ state, commit }) {
    if (!state.tags.length) {
      await this.$axios.$get('/api/v1/tags')
        .then((tags) => {
          commit('setTags', tags)
        })
    }
  }
}
